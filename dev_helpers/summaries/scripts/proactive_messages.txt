hash:a1cb32ef4564147ff3ed464ee7e4757bcd3eaf2584a016b2d98c1523ec37fea1
path:scripts/proactive_messages.py | source:scripts/proactive_messages.py | lastUpdated:2025-05-24T14:13:40.659063 | lines:357

This Python script `proactive_messages.py` is designed to send automated, AI-generated messages to Telegram bot users at scheduled times. It utilizes the `schedule` library to trigger daily messages at 10:00 and 20:00 for users in specific timezones (currently Bali and Moscow). The script retrieves user history and summaries from Firestore and uses an AI client to generate personalized, supportive messages. Key functions include `main` for scheduling, `send_proactive_messages_for_timezone` to process users by timezone, and `generate_proactive_message` for AI interaction. Sent messages are also saved back to the user's history.