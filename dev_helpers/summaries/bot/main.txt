hash:db512577d19efa7a76b6cb06a722337db7056379772d2d41a08df445429800cb
path:bot/main.py | source:bot/main.py | lastUpdated:2025-05-24T14:15:05.621205 | lines:150

This file defines the main FastAPI application serving as the backend for a Telegram bot. It initializes the `python-telegram-bot` application on startup and shuts it down on exit using a lifespan manager. The app exposes a `/webhook` endpoint to receive and process updates from Telegram, along with endpoints for health checks (`/health`) and triggering proactive messages via a scheduler (`/send-proactive`). It also includes error handling middleware to manage exceptions gracefully.